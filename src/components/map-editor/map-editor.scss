@mixin rl-element-focused {
  outline: none;
  fill: var(--rl-map-element-focus-fill, rgba(255, 255, 83, 0.3));
}

@mixin rl-element-activated() {
  outline: none;
  stroke: var(--rl-map-element-active-stroke, rgb(199, 171, 0));
  stroke-width: 8;
}

.rl-map-editor {
  display: inline-block;

  width: 100%;
  height: 100%;

  overflow: hidden;

  &__svg {
    width: 100%;
    height: 100%;
  }
}

.rl-svg {
  width: 100%;
  height: 100%;

  &__marker {
    &:focus rect {
      @include rl-element-focused();
    }

    &--clickable {
      &:hover rect {
        @include rl-element-focused();
    
        cursor: pointer;
      }
    }

    text {
      font-size: var(--rl-svg__text-size, 48px);

      user-select: none;
    }
  }

  &__polygon {
    fill: var(--rl-svg__polygon-fill, rgba(0, 76, 155, 0.6));
    stroke: var(--rl-svg__polygon-fill, rgb(0, 76, 155));
    stroke-width: 4;

    &:focus {
      @include rl-element-focused();
    }
    
    &--activated {
      @include rl-element-activated();
      @include rl-element-focused();
    }

    &:hover {
      @include rl-element-focused();

      cursor: pointer;
    }

    &-outline {
      fill: none;
      stroke: var(--rl-map-element-active-stroke, rgb(199, 171, 0));
      stroke-width: 2;
    }

    path {
      outline: none;
    }
  }

  &__rect {
    fill: none;
    stroke: none;

    &--activated {
      @include rl-element-activated();
    }
  }

  &__symbol {
    fill: var(--rl-svg__symbol-fill, rgba(0, 76, 155, 0.6));
    stroke: var(--rl-svg__symbol-fill, rgb(0, 76, 155));
    stroke-width: 1;
    fill-rule: evenodd;

    &--alt {
      fill: var(--rl-svg__symbol-fill-alt, rgba(255, 255, 83, 0.5));
      stroke: var(--rl-svg__symbol-fill-alt, rgb(199, 171, 0));
    }
  }

  &__control {
    stroke: black;
    fill: rgba(255, 255, 255, 0.6);
    stroke-width: 2;

    &:hover {
      fill: rgba(192, 192, 192, 0.6);

      cursor: pointer;
    }
  }

  &__midpoint {
    stroke: rgba(0, 0, 0, 0.6);
    fill: rgba(255, 255, 255, 0.3);
    stroke-width: 2;

    &:hover {
      fill: rgba(192, 192, 192, 0.3);

      cursor: pointer;
    }
  }
}

.rl-map {
  &-polygon {
    fill: var(--rl-map-region-fill, rgba(0, 76, 155, 0.6));
    stroke: var(--rl-map-region-fill, rgb(0, 76, 155));
    stroke-width: 4;

    &:focus {
      @include rl-element-focused();
    }

    &--activated {
      @include rl-element-activated();
    }

    &:hover {
      @include rl-element-focused();

      cursor: pointer;
    }

    &--open {
      fill: none;
      stroke: var(--rl-map-element-active-stroke, rgb(199, 171, 0));

      &:hover {
        fill: none;
        
        cursor: default;
      }
    }
  }

  &-text {
    font-family: var(--rl-map-element-font-family, "sans");
    font-size: var(--rl-map-element-font-size, 24px);
    // Text shouldn't be focusable or selectable, it's just a label.
    user-select: none;

    &:hover {
      // In the editor, text can be clicked.
      cursor: pointer;
    }
  }

  &-comp {
    fill: red;
    fill-rule: evenodd;
    stroke: red;
    stroke-width: 2;
    
    &--available {
      fill: green;
      stroke: green;
    }
  }

  &-marker {
    text {
      font-size: 52pt;

      text-anchor: middle;

      cursor: default;
      user-select: none;
    }

    &:focus rect {
      @include rl-element-focused();
    }

    &--clickable {
      &:hover rect {
        @include rl-element-focused();
    
        cursor: pointer;
      }
    }
  }

  &-rect {
    fill: var(--rl-map-region-fill, rgba(0, 76, 155, 0.6));
    stroke: var(--rl-map-region-fill, rgb(0, 76, 155));
    stroke-width: 4;

    &--activated {
      @include rl-element-activated();
      @include rl-element-focused();
    }
  }
}
